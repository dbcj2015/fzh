<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bjsxt.dao.NewsDAO">
<select id="isShowBanner" resultType="java.util.LinkedHashMap">
	select * from t_news where is_show_banner=1
</select>
<select id="obtainLatestNews" resultType="java.util.LinkedHashMap">
	select n.*,nt.*,ns.newest_id
	from t_news n,t_news_type nt,(select channel ,max(news_id) newest_id from t_news group by channel) ns
	where n.type_id=nt.type_id and ns.newest_id=n.news_id
</select>
<select id="obtainNewsListByChannel" parameterType="java.util.Map" resultType="java.util.LinkedHashMap">
	select * from t_news where type_id=#{channelId} limit #{page},#{rows};
</select>
<select id="obtainNewsId" parameterType="Integer" resultType="java.util.LinkedHashMap">
	select * from t_news where news_id=#{value};
</select>
<update id="updateThumbsUp" parameterType="Integer">
	update t_news set thumbsup=thumbsup+1 where news_id={value}
</update>
<select id="findThumbsNum" parameterType="Integer" resultType="java.util.LinkedHashMap">
	select * from t_news where news_id=#{value};
</select>
</mapper>